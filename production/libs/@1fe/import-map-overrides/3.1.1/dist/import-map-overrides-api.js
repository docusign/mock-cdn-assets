/* import-map-overrides@3.1.1 */
!function(){"use strict";function e(r){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(r)}function r(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=a.call(t)).done)&&(c.push(n.value),c.length!==r);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,r)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function n(r,t){if(Array.isArray(r)){for(var n=0;n<r.length;n++)if(r[n]===t)return!0;return!1}if("string"==typeof r)return r.indexOf(t)>=0;throw Error("Can't call includes on ".concat(e(r)))}var o,a="import-map-override:",i="import-map-overrides-disabled",c="import-map-overrides-external-maps",l="data-is-importmap-override",s="import-map-overrides-domains",u="allowlist:",p="denylist:",m=document.querySelector('meta[name="importmap-type"]'),d=document.querySelector('meta[name="'.concat(s,'"]')),f={},v=m?m.getAttribute("content"):"importmap";if(d){var g=d.getAttribute("content");g||console.warn("Invalid ".concat(s," meta element - content required."));var y=function(e){return new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e).replace("\\*",".+")).test(window.location.hostname)};0===g.indexOf(u)?o=!g.slice(10).split(",").some(y):0===g.indexOf(p)?o=g.slice(9).split(",").some(y):console.log("Invalid ".concat(s," meta content attribute - must start with ").concat(u," or ").concat(p))}else o=!1;function h(e,t){return Object.entries(e).reduce((function(e,n){var o=r(n,2),a=o[0],i=o[1];return e[a]=function(e,r){try{return new URL(e,r).href}catch(r){return e}}(i,t),e}),{})}(function(){try{return localStorage.getItem("test"),!0}catch(e){return!1}})()||(console.warn("Disabling import-map-overrides, since local storage is not readable"),o=!0),o||function(){var e,t=!!m&&m.hasAttribute("server-cookie"),o=!!m&&m.hasAttribute("server-only");window.importMapOverrides={addOverride:function(e,r){/^\d+$/g.test(r)&&(r=s.getUrlFromPort(e,r));var n=a+e;return localStorage.setItem(n,r),t&&(document.cookie="".concat(n,"=").concat(r)),p(),s.getOverrideMap()},getOverrideMap:function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r={imports:{},scopes:{}},t=s.getDisabledOverrides(),n=function(n,o){!e&&t.indexOf(n)>=0||(r.imports[n]=o)},o=0;o<localStorage.length;o++){var i=localStorage.key(o);0===i.indexOf(a)&&n(i.slice(20),localStorage.getItem(i))}var c=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(r);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null}("imo",window.location!=window.parent.location?document.referrer:window.location.href);if(c){var l;try{l=JSON.parse(c)}catch(e){throw Error("Invalid importMap query param - text content must be json")}Object.keys(l.imports).forEach((function(e){n(e,l.imports[e])}))}return r},removeOverride:function(e){var r=a+e,n=null!==localStorage.getItem(r);return localStorage.removeItem(r),t&&(document.cookie="".concat(r,"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;")),s.enableOverride(e),p(),n},resetOverrides:function(){return Object.keys(s.getOverrideMap(!0).imports).forEach((function(e){s.removeOverride(e)})),localStorage.removeItem(i),localStorage.removeItem(c),p(),s.getOverrideMap()},hasOverrides:function(){return Object.keys(s.getOverrideMap().imports).length>0},getUrlFromPort:function(e,r){var t=e.replace(/@/g,"").replace(/\//g,"-");return"//localhost:".concat(r,"/").concat(t,".js")},enableUI:function(){var e="import-map-overrides-full",r="show-when-local-storage",t=document.querySelector(e);t||((t=document.createElement(e)).setAttribute(r,"true"),document.body.appendChild(t));var n=t.getAttribute(r);n&&(localStorage.setItem(n,!0),t.renderWithPreact())},mergeImportMap:function(e,r){var t={imports:{},scopes:{}};for(var n in e.imports)t.imports[n]=e.imports[n];for(var o in r.imports)t.imports[o]=r.imports[o];for(var a in e.scopes)t.scopes[a]=e.scopes[a];for(var i in r.scopes)t.scopes[i]=r.scopes[i];return t},getDefaultMap:function(){return e||(e=Array.prototype.reduce.call(document.querySelectorAll('script[type="'.concat(v,'"], script[type="overridable-importmap"]')),(function(e,t){return t.hasAttribute(l)?e:(n=t.src?x(t.src):Promise.resolve(JSON.parse(t.textContent)),Promise.all([e,n]).then((function(e){var t=r(e,2),n=t[0],o=t[1];return s.mergeImportMap(n,o)})));var n}),Promise.resolve({imports:{},scopes:{}})))},getCurrentPageMap:function(){return Promise.all([s.getDefaultMap(),s.getExternalOverrideMap(s.getCurrentPageExternalOverrides())]).then((function(e){var t=r(e,2),n=t[0],o=t[1];return s.mergeImportMap(s.mergeImportMap(n,o),y)}))},getCurrentPageExternalOverrides:function(){var e=[];return document.querySelectorAll("[".concat(l,']:not([id="import-map-overrides"])')).forEach((function(r){e.push(r.src)})),e},getNextPageMap:function(){return Promise.all([s.getDefaultMap(),s.getExternalOverrideMap()]).then((function(e){var t=r(e,2),n=t[0],o=t[1];return s.mergeImportMap(s.mergeImportMap(n,o),s.getOverrideMap())}))},disableOverride:function(e){var r=s.getDisabledOverrides();return!n(r,e)&&(localStorage.setItem(i,JSON.stringify(r.concat(e))),p(),!0)},enableOverride:function(e){var r=s.getDisabledOverrides(),t=r.indexOf(e);return t>=0&&(r.splice(t,1),localStorage.setItem(i,JSON.stringify(r)),p(),!0)},getDisabledOverrides:function(){var e=localStorage.getItem(i);return e?JSON.parse(e):[]},isDisabled:function(e){return n(s.getDisabledOverrides(),e)},getExternalOverrides:function(){var e=localStorage.getItem(c);return e?JSON.parse(e).sort():[]},addExternalOverride:function(e){e=new URL(e,document.baseURI).href;var r=s.getExternalOverrides();return!n(r,e)&&(localStorage.setItem(c,JSON.stringify(r.concat(e))),p(),!0)},removeExternalOverride:function(e){var r=s.getExternalOverrides();return!!n(r,e)&&(localStorage.setItem(c,JSON.stringify(r.filter((function(r){return r!==e})))),p(),!0)},getExternalOverrideMap:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.getExternalOverrides()).reduce((function(e,t){var n=f[t]||(f[t]=x(t));return Promise.all([e,n]).then((function(e){var t=r(e,2),n=t[0],o=t[1];return s.mergeImportMap(n,o)}))}),Promise.resolve({imports:{},scopes:{}}))},isExternalMapValid:function(e){return(f[e]||(f[e]=x(e))).then((function(){return!n(s.invalidExternalMaps,e)}))},invalidExternalMaps:[]};var s=window.importMapOverrides,u=!0;try{CustomEvent?new CustomEvent("a"):u=!1}catch(e){u=!1}function p(){d("change")}function d(e){setTimeout((function(){var r="import-map-overrides:".concat(e),t=u?new CustomEvent(r):document.createEvent("CustomEvent");u||t.initCustomEvent(r,!0,!0,null),window.dispatchEvent(t)}))}var g,y=s.getOverrideMap(),O=s.getExternalOverrides();if(!o){var b=document.querySelector('script[type="overridable-importmap"]');if(!(g=b)){var w=document.querySelectorAll('script[type="'.concat(v,'"]'));g=w?w[w.length-1]:null}if(b){if(b.src)throw Error('import-map-overrides: external import maps with type="overridable-importmap" are not supported');var E;try{E=JSON.parse(b.textContent)}catch(e){throw Error('Invalid <script type="overridable-importmap"> - text content must be json')}g=S(s.mergeImportMap(E,y),"import-map-overrides",g),M()}else M(),Object.keys(y.imports).length>0&&(g=S(y,"import-map-overrides",g))}function S(e,r,t){var n=document.createElement("script");return n.type=v,n.id=r,n.setAttribute(l,""),"string"==typeof e?n.src=e:n.textContent=JSON.stringify(e,null,2),t?t.insertAdjacentElement("afterend",n):document.head.appendChild(n),n}function x(e){return fetch(e).then((function(e){return e.ok?e.json().catch((function(r){return console.warn(Error("External override import map contained invalid json, at url ".concat(e.url,". ").concat(r))),s.invalidExternalMaps.push(e.url),{imports:{},scopes:{}}})):(console.warn(Error("Unable to download external override import map from url ".concat(e.url,". Server responded with status ").concat(e.status))),s.invalidExternalMaps.push(e.url),{imports:{},scopes:{}})}),(function(){return console.warn(Error("Unable to download external import map at url '".concat(e,"'"))),s.invalidExternalMaps.push(new URL(e,document.baseURI).href),{imports:{},scopes:{}}})).then((function(r){return function(e,r){return{imports:h(e.imports||{},r),scopes:Object.keys(e.scopes||{}).reduce((function(t,n){return t[n]=h(e.scopes[n],r),t}),{})}}(r,e)}))}function M(){O.length>0&&O.forEach((function(e,r){g=S(e,"import-map-overrides-external-".concat(r))}))}d("init")}()}();
//# sourceMappingURL=import-map-overrides-api.js.map
